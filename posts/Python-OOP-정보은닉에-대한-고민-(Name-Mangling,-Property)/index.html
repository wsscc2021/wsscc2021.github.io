<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property)" /><meta name="author" content="D.G.Lee" /><meta property="og:locale" content="en" /><meta name="description" content="Overview" /><meta property="og:description" content="Overview" /><link rel="canonical" href="https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/" /><meta property="og:url" content="https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/" /><meta property="og:site_name" content="D.G.Lee" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-10-01T18:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property)" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"D.G.Lee"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/"},"description":"Overview","url":"https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/","@type":"BlogPosting","headline":"Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property)","dateModified":"2021-10-01T18:00:00+09:00","datePublished":"2021-10-01T18:00:00+09:00","@context":"https://schema.org"}</script><title>Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property) | D.G.Lee</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="D.G.Lee"><meta name="application-name" content="D.G.Lee"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">D.G.Lee</a></div><div class="site-subtitle font-italic">I'm interested in cloud-computing and believe in the power of communication.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/wsscc2021" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['piou987','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> D.G.Lee </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 1, 2021, 6:00 PM +0900" >Oct 1<i class="unloaded">2021-10-01T18:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1956 words">10 min read</span></div></div><div class="post-content"><h2 id="overview">Overview</h2><p>파이썬을 OOP 방식으로 사용하려고 살펴보다가 문득 “파이썬은 접근제어자가 없는 데 어떤 방식으로 <strong>정보은닉</strong>을 만족시킬 수 있을까??” 라는 고민을 시작하게 되었습니다. 이번 글에서는 위 질문에 대답하기 위해 찾아본 내용을 공유하려 합니다.</p><p>우선 정보은닉이 무엇인지 이해할 필요가 있습니다. OOP에서는 연관 있는 데이터와 함수를 클래스로 묶고, 구현 내용을 외부에 감추는 것을 캡슐화라고 하며 캡슐화된 클래스에서 중요한 데이터나 기능을 외부에서 접근하지 못하도록 구성하는 것을 정보은닉이라고 합니다. 이를 통해 외부에서 함부로 데이터를 읽거나 변경하지 못하고 개발자가 원하는 범위 안의 동작만 수행하도록 제한하여 보안성을 높이고 에러를 최소화할 수 있습니다.</p><h2 id="name-mangling">Name Mangling</h2><p>가장 먼저 찾을 수 있던 내용이 Name Mangling입니다. Name Mangling은 Java의 접근제어자와 비교하여 설명하는 경우가 많았기 때문에 “접근제어자와 비슷한 역할인 건가??” 라는 생각으로 살펴보았습니다. (전혀 다른 의미였지만요… ㅎㅎ…)</p><p>Name Mangling은 함수나 변수명을 컴파일 단계에서 컴파일러가 일정한 규칙을 가지고 변형하는 것을 의미합니다. (*Name Decoration이라고도 합니다.) 파이썬에서는 <code class="language-plaintext highlighter-rouge">_</code> 또는 <code class="language-plaintext highlighter-rouge">__</code>를 변수 또는 함수앞에 접미사로 붙여서 사용할 수 있습니다.</p><p>Name Mangling은 다른 범위에 있는 같은 이름 함수나 변수를 구별하기 위한 목적으로 사용됩니다. (예를 들면 하위 클래스에서 상속받은 변수와 같은 이름의 변수를 사용할 때…) 사실 굳이 왜 이렇게 사용해야하는 지 이해가 잘 안되어서 예시를 하나 들어봤습니다.</p><p>전기차를 상속을 통해 구현할 때 자동차 등록코드와 전기차 등록코드를 모두 등록해야된다고 가정해봅니다. 적절한 변수명이 <code class="language-plaintext highlighter-rouge">code</code>라고 했을 때 자동차 등록코드가 전기차 등록코드로 오버라이딩 되어 버립니다. 완벽히 이해하지 않아도 되니 잠깐 살펴봅니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Car</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

<span class="k">class</span> <span class="nc">ElectricCar</span><span class="p">(</span><span class="n">Car</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span>

<span class="n">tesla</span> <span class="o">=</span> <span class="n">ElectricCar</span><span class="p">(</span><span class="s">"xxxxxxxxxx"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">tesla</span><span class="p">.</span><span class="n">__dict__</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{'code': 'xxxxxxxxxx'}
</pre></table></code></div></div><p>이럴 때 Name Mangling을 활용하면 파이썬 컴파일러가 <code class="language-plaintext highlighter-rouge">_클래스명__변수명</code>으로 변수명을 변경시킵니다. 결과적으로 같은 이름의 <code class="language-plaintext highlighter-rouge">__code</code> 변수명을 사용했음에도 오버라이딩 되지 않습니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Car</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__code</span> <span class="o">=</span> <span class="n">code</span>

<span class="k">class</span> <span class="nc">ElectricCar</span><span class="p">(</span><span class="n">Car</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">car_code</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_Car__code</span> <span class="o">=</span> <span class="n">car_code</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__code</span> <span class="o">=</span> <span class="n">code</span>

<span class="n">tesla</span> <span class="o">=</span> <span class="n">ElectricCar</span><span class="p">(</span><span class="s">"xxxxxxxxxx"</span><span class="p">,</span><span class="s">"zzzzzzzzzzz"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">tesla</span><span class="p">.</span><span class="n">__dict__</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>{'_Car__code': 'xxxxxxxxxx', '_ElectricCar__code': 'zzzzzzzzzzz'}
</pre></table></code></div></div><p>그리고 처음에 <strong>정보은닉</strong>을 위해 활용된다고 헷갈렸던 포인트(개념)을 정리해봅니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__secret</span> <span class="o">=</span> <span class="s">"zxj412mazasxio5n321"</span>

<span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">"Lee"</span><span class="p">,</span><span class="mi">26</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">__secret</span><span class="p">)</span> <span class="c1"># __secret 속성이 없다는 에러가 출력됩니다.
</span></pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>Lee
26
Traceback (most recent call last):
  ....
AttributeError: 'Person' object has no attribute '__secret'
</pre></table></code></div></div><p>위 코드를 실행시켜보면 <code class="language-plaintext highlighter-rouge">__secret</code> 속성이 없다는 에러가 출력됩니다. 이 것은 속성에 접근이 불가능하여 발생하는 에러가 아니라 속성의 이름을 컴파일러에서 바꿨기 때문에 발생하는 에러입니다.</p><div class="language-python highlighter-rouge"><div class="code-header" text-data="python"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__secret</span> <span class="o">=</span> <span class="s">"zxj412mazasxio5n321"</span>

<span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s">"Lee"</span><span class="p">,</span><span class="mi">26</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
<span class="c1"># print(person.__secret) # __secret 속성이 없다는 에러가 출력됩니다.
</span><span class="k">print</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">__dict__</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>Lee
26
{'name': 'Lee', 'age': 26, '_Person__secret': 'zxj412mazasxio5n321'}
</pre></table></code></div></div><p>실제로 위 코드를 실행시켜보면 <code class="language-plaintext highlighter-rouge">_Person__secret</code> 이라는 속성이 <code class="language-plaintext highlighter-rouge">person</code> 객체에 포함되어 있는 것을 확인할 수 있습니다. 파이썬 컴파일러가 컴파일 단계에서 <code class="language-plaintext highlighter-rouge">__secret</code> 속성의 이름을 <code class="language-plaintext highlighter-rouge">_Person__secret</code> 으로 변경시킨 것입니다.</p><p>그리고 아래 코드를 실행시켜보면 변경된 속성의 이름으로 접근할 수 있는 것을 확인할 수 있습니다. 단순히 속성의 이름만 변경된 것이기 때문에 변경된 속성 이름으로 접근하면 데이터를 읽거나 변경할 수 있는 것입니다. 결론적으로 Name Mangling은 완벽하게 정보은닉을 만족시킬 수 없습니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>class Person:
    def __init__(self,name,age):
        self.name = name
        self.age = age
        self.__secret = "zxj412mazasxio5n321"

person = Person("Lee",26)
print(person.name)
print(person.age)
# print(person.__secret) # __secret 속성이 없다는 에러가 출력됩니다.
# print(person.__dict__)
print(person._Person__secret)
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>Lee
26
zxj412mazasxio5n321
</pre></table></code></div></div><h2 id="property">Property</h2><p>그리고 찾아볼 수 있었던 것은 property 데코레이터입니다. property 데코레이터은 getter/setter를 간단하게 생성해주는 파이썬의 기본 데코레이터입니다.</p><p>Java에서는 접근 제어자를 통해 데이터에 직접 접근하지 못하도록 보호하고 데이터를 읽거나 수정하는 메소드만 노출시키는 방식으로 정보 은닉을 만족시킵니다. 여기서 데이터를 읽는 메소드를 getter, 데이터를 수정하는 메소드를 setter라고 표현합니다. getter/setter를 활용하면 객체의 데이터를 읽거나 수정할 때 타입체크를 하거나 인증된 사용자인지 확인하는 등의 작업을 수행하여 데이터를 안전하게 보호할 수 있습니다.</p><p>property 데코레이터 사용하지 않을 경우</p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre>class Person:
    def __init__(self, name, age):
        self.name = name
        self.set_age(age)
    
    def get_age(self):
        return self.__age
    
    def set_age(self, age):
        if type(age) is not int:
            raise TypeError("age must be int type")
        else:
            self.__age = age

person = Person("Lee",24)
print(person.get_age())
person.set_age(50)
print(person.get_age())
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>24
50
</pre></table></code></div></div><p>property 데코레이터 사용</p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    @property
    def age(self):
        return self.__age
    
    @age.setter
    def age(self, age):
        if type(age) is not int:
            raise TypeError("age must be int type")
        else:
            self.__age = age

person = Person("Lee",24)
print(person.age)
person.age = 50
print(person.age)
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>24
50
</pre></table></code></div></div><p>하지만 property 데코레이터도 결국 Name Mangling을 사용하는 방식이기 때문에 Name Mangling 원리로 변경된 변수명으로 데이터에 직접 접근할 수 있습니다. 결국 property를 사용하더라도 완벽하게 정보 은닉을 만족할 수 없습니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>class Person:
    def __init__(self, name, age):
        self.name = name
        self.set_age(age)
        self.auth = True
    
    def get_age(self):
        if self.auth: # 신뢰하는 사람만 데이터에 접근할 수 있습니다. (*가정)
            return self.__age
        else:
            raise AttributeError("Access Denied")
    
    def set_age(self, age):
        if type(age) is not int: # 나이는 int type이어야 합니다.
            raise TypeError("Must be int type for 'age'")
        else:
            self.__age = age

person = Person("Lee",24)
print(person.get_age())
person._Person__age = "HHHHH"
print(person._Person__age)
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header" text-data="plaintext"><button data-original-title="Copied!"><i class="far fa-clone"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>24
HHHHH
</pre></table></code></div></div><h2 id="결론">결론</h2><p>제가 찾아본 한에서 파이썬은 완벽하게 정보은닉을 만족할 수 없습니다. 하지만 Name Mangling과 Property 데코레이터를 적절히 활용하여 최대한 외부에서 간섭하지 못하도록 노력하는 것이 필요합니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >Python</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property) - D.G.Lee&url=https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property) - D.G.Lee&u=https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Python - OOP 정보은닉에 대한 고민 (Name Mangling, Property) - D.G.Lee&url=https://wsscc2021.github.io/posts/Python-OOP-%EC%A0%95%EB%B3%B4%EC%9D%80%EB%8B%89%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EB%AF%BC-(Name-Mangling,-Property)/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EA%B8%B0%EC%88%A0-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/">컨테이너 기술 이해하기</a><li><a href="/posts/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/">마이크로서비스 아키텍처 이해하기</a><li><a href="/posts/Kubernetes-Healthcheck-(liveness-probe,-startup-probe,-readiness-probe)/">Kubernetes - Healthcheck (liveness-probe, startup-probe, readiness-probe)</a><li><a href="/posts/Pyhton-TypeError-%EC%A4%84%EC%9D%B4%EA%B8%B0-(Function-Annotation,-MyPy)/">Pyhton - TypeError 줄이기 (Function Annotation, MyPy)</a><li><a href="/posts/%EB%B8%94%EB%A1%9C%EA%B7%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/">블로그 시작하기</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/blog-management/">Blog-management</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/architect/">Architect</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Pyhton-TypeError-%EC%A4%84%EC%9D%B4%EA%B8%B0-(Function-Annotation,-MyPy)/"><div class="card-body"> <span class="timeago small" >Oct 2<i class="unloaded">2021-10-02T16:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Pyhton - TypeError 줄이기 (Function Annotation, MyPy)</h3><div class="text-muted small"><p> Overview 파이썬을 다루다가 보면 실행 중에 갑작스런 TypeError를 접했던 경험이 종종 있었습니다. 이를 몇 번 접하고 나서 Type에 대해 정확하게 이해하고 이러한 오류를 줄일 수 있는 방법을 찾아본 내용을 공유합니다. 데이터 타입 데이터 타입은 프로그래밍 언어에서 데이터의 형태를 의미합니다. (int, float, string, l...</p></div></div></a></div><div class="card"> <a href="/posts/Python-%EC%9E%84%EC%8B%9C-%ED%8C%8C%EC%9D%BC-%EB%8B%A4%EB%A3%A8%EA%B8%B0-(tempfile)/"><div class="card-body"> <span class="timeago small" >Oct 4<i class="unloaded">2021-10-04T14:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Python - 임시 파일 다루기 (tempfile)</h3><div class="text-muted small"><p> Overview 저는 아래와 같은 과정(*경험)을 겪으면서 임시파일을 다루는 것에 대한 필요성을 느꼈습니다. Python 기반의 Flask 어플리케이션을 개발하면서… 로컬에서 Unit Test를 진행하고자 했습니다. → 어플리케이션에는 사용자 데이터를 데이터베이스에 저장하는 로직이 포함되어 있었기 때문에 이를 테스트 하기 위해서 테스트용 데이터베이...</p></div></div></a></div><div class="card"> <a href="/posts/Kubernetes-Cluster-Autoscaler-+-OverProvisioning/"><div class="card-body"> <span class="timeago small" >Oct 27<i class="unloaded">2021-10-27T15:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Kubernetes - Cluster Autoscaler + OverProvisioning</h3><div class="text-muted small"><p> 컨테이너 생성 시간 vs VM 생성 시간 컨테이너는 VM보다 경량적인 isolation 기술로써, VM보다 이미지 크기가 작고 빠르게 프로비저닝되는 장점을 가지고 있습니다. 이는 분산 시스템 형태에서 수평적 확장을 수행하는 클라우드 환경에서 더욱 부각됩니다. 때문에 일반적으로 클라우드 환경에서는 클라우드 업체에서 제공해주는 VM 위에서 경량의 컨테...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EB%B8%94%EB%A1%9C%EA%B7%B8-Google-Analytics-%EC%97%B0%EB%8F%99%ED%95%98%EC%97%AC-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%88%98-%ED%8C%8C%EC%95%85%ED%95%98%EA%B8%B0/" class="btn btn-outline-primary" prompt="Older"><p>블로그 Google Analytics 연동하여 사용자 수 파악하기</p></a> <a href="/posts/Pyhton-TypeError-%EC%A4%84%EC%9D%B4%EA%B8%B0-(Function-Annotation,-MyPy)/" class="btn btn-outline-primary" prompt="Newer"><p>Pyhton - TypeError 줄이기 (Function Annotation, MyPy)</p></a></div><script src="https://utteranc.es/client.js" repo="wsscc2021/wsscc2021.github.io" issue-term="title" theme="github-light" crossorigin="anonymous" async> </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://github.com/wsscc2021/wsscc2021.github.io">wsscc2021</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/devops/">DevOps</a> <a class="post-tag" href="/tags/blog-management/">Blog management</a> <a class="post-tag" href="/tags/kubernetes/">Kubernetes</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/container/">Container</a> <a class="post-tag" href="/tags/architect/">Architect</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { let initTheme = "default"; if ($("html[mode=dark]").length > 0 || ($("html[mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://wsscc2021.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-2Y7BLPLM54"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-2Y7BLPLM54'); }); </script>
